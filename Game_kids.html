query: "Update the file called Game_kids.html with the sha  in the repository Arkaan21/Game-Kids with the content 
<!doctype html>
<html lang=\"id\">
<head>
  <meta charset=\"utf-8\" />
  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, viewport-fit=cover\" />
  <title>Game Kids</title>
  <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">
  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>
  <link href=\"https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap\" rel=\"stylesheet\">
  <style>
    html, body {
      margin: 0; padding: 0; height: 100%;
      font-family: 'Luckiest Guy', cursive, Arial, sans-serif;
      background: #f0f2f5;
      overflow: hidden;
      touch-action: none;
    }
    .no-select { user-select: none; -webkit-user-select: none; }
    #splashScreen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: #fff; z-index: 1000; display: flex;
      flex-direction: column; justify-content: center; align-items: center;
      transition: opacity 0.5s;
    }
    #splashScreen img { width: 300px; max-width: 80%; }
    .screen {
      display: none; flex-direction: column; align-items: center;
      justify-content: center; width: 100%; height: 100%; padding: 15px;
      box-sizing: border-box; text-align: center;
    }
    .screen.active { display: flex; }
    .big-btn {
      font-size: 24px; padding: 20px 40px; border: none;
      border-radius: 16px; background-color: #007AFF; color: white;
      cursor: pointer; box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
      transition: transform 0.1s, filter 0.1s;
    }
    .big-btn:disabled {
      background-color: #d1d1d6; color: #8e8e93;
      box-shadow: none; cursor: not-allowed;
    }
    .big-btn:active, .option-btn:active, .btn:active {
      transform: scale(0.97); filter: brightness(0.95);
    }
    #mainMenuScreen .menu-content {
      display: flex; flex-direction: column; align-items: center;
      gap: 10px; width: 100%; max-width: 400px;
    }
    .main-menu-btn { width: 100%; font-size: 32px; padding: 25px; }
    .needs-selection { animation: pulse-animation 1.5s infinite; }
    @keyframes pulse-animation {
      0% { transform: scale(1); box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);}
      50% { transform: scale(1.03); box-shadow: 0 6px 18px rgba(0, 122, 255, 0.4);}
      100% { transform: scale(1); box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);}
    }
    .selection-display {
      background-color: #2ECC71; color: white; padding: 5px 15px;
      border-radius: 8px; font-size: 18px; margin-top: 5px;
      min-height: 28px; display: none; transition: all 0.3s;
    }
    .selection-display.visible { display: inline-block; }
    #selectionScreen h2 { font-size: 32px; color: #333; }
    #selectionScreen .options-grid {
      display: flex; flex-wrap: wrap; justify-content: center; gap: 10px;
    }
    #selectionScreen .option-btn {
      padding: 15px 25px; border: 2px solid #007AFF; border-radius: 15px;
      background-color: #fff; color: #007AFF; font-size: 18px; cursor: pointer;
    }
    #highScoreDisplay {
      margin-bottom: 10px; padding: 10px 20px;
      background: linear-gradient(45deg, #FFC107, #FF9800); color: white;
      border-radius: 12px; font-size: 22px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.15);
    }
    #gameScreen { padding: 0; }
    header {
      position: absolute; top: 0; left: 0; z-index: 10; display: flex;
      justify-content: space-between; align-items: center; padding: 10px 15px;
      background-color: rgba(255, 255, 255, 0.8); backdrop-filter: blur(5px);
      width: 100%;
    }
    .stats { font-size: 20px; color: #333; letter-spacing: 1px; display: flex; align-items: center; gap: 15px;}
    #livesContainer { font-size: 24px; }
    .btn {
      border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;
      background-color: #007AFF; color: white; font-family: 'Luckiest Guy', cursive, Arial, sans-serif;
    }
    #gameArea {
      position: relative; flex: 1; width: 100%; height: 100%;
      background-color: #e0f7fa; overflow: hidden;
    }
    .target {
      position: absolute; top: 60px; left: 50%; transform: translateX(-50%);
      font-size: 64px; padding: 10px 25px; border-radius: 12px; color: white;
      z-index: 15; text-shadow: 3px 3px 0px rgba(0,0,0,0.09);
      pointer-events: none;
    }
    canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    #popCanvas { z-index: 5; pointer-events: none; }
    .overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.7); display: none; flex-direction: column;
      justify-content: center; align-items: center; z-index: 999;
      opacity: 0; transition: opacity 0.4s;
    }
    .overlay[style*=\"display: flex\"] { opacity: 1 !important; }
    .overlay-content {
      background: white; padding: 25px; border-radius: 20px; text-align: center;
      box-shadow: 0 5px 20px rgba(0,0,0,0.3); width: 90%; max-width: 400px;
    }
    .overlay-content h2 { font-size: 48px; margin: 0 0 10px 0; }
    .overlay-content p { font-size: 22px; margin: 5px 0; color: #333; }
    .overlay-buttons { display: flex; gap: 10px; margin-top: 20px; justify-content: center; flex-wrap: wrap; }
    .overlay-buttons .big-btn { font-size: 20px; padding: 15px 20px; flex-grow: 1; min-width: 100px; }
    .copyright-footer {
      position: fixed; bottom: 10px; width: 100%; text-align: center;
      font-size: 12px; color: #aaaaaa; font-family: Arial, sans-serif; z-index: 1001;
    }
    .music-btn {
      margin-left: 12px; font-size: 20px; padding: 6px 14px; border-radius: 8px;
      border: none; background: #FFC107; color: #333; font-family: 'Luckiest Guy', cursive, Arial, sans-serif;
      cursor: pointer;
    }
    .music-btn.active { background: #4CAF50; color: #fff; }
  </style>
</head>
<body class=\"no-select\">

<div id=\"splashScreen\">
  <img src=\"icon.png\" alt=\"Logo Game Kids\" />
  <div id=\"splashText\">Memulai...</div>
</div>

<div id=\"mainMenuScreen\" class=\"screen\">
  <div class=\"menu-content\">
    <div id=\"highScoreDisplay\">Skor Tertinggi: 0</div>
    <button id=\"modeBtn\" type=\"button\" class=\"big-btn main-menu-btn needs-selection\">Mode</button>
    <div id=\"modeSelectionDisplay\" class=\"selection-display\"></div>
    <button id=\"levelBtn\" type=\"button\" class=\"big-btn main-menu-btn needs-selection\">Level</button>
    <div id=\"levelSelectionDisplay\" class=\"selection-display\"></div>
    <button id=\"startBtn\" type=\"button\" class=\"big-btn\" disabled>Mulai</button>
  </div>
</div>

<div id=\"selectionScreen\" class=\"screen\">
  <div class=\"menu-content\">
    <h2 id=\"selectionTitle\">Pilih Mode</h2>
    <div id=\"selectionOptions\" class=\"options-grid\"></div>
    <button id=\"backToMainBtn\" type=\"button\" class=\"big-btn\" style=\"background-color: #E74C3C; margin-top: 20px;\">Kembali</button>
  </div>
</div>

<div id=\"gameScreen\" class=\"screen\">
  <header>
    <div class=\"stats\">
      <span>Skor: <span id=\"score\">0</span></span>
      <div id=\"livesContainer\"></div>
    </div>
    <div class=\"controls\">
      <button id=\"musicToggle\" type=\"button\" class=\"music-btn\" title=\"Music On/Off\">üéµ</button>
      <button id=\"backToMenu\" type=\"button\" class=\"btn\">Kembali</button>
    </div>
  </header>
  <div id=\"gameArea\">
    <canvas id=\"gameCanvas\"></canvas>
    <canvas id=\"popCanvas\"></canvas>
  </div>
  <div id=\"target\" class=\"target\">A</div>
</div>

<div id=\"dimOverlay\" class=\"overlay\"></div>

<div id=\"gameOverScreen\" class=\"overlay\">
  <div class=\"overlay-content\">
    <h2 style=\"color: #E74C3C;\">Game Over</h2>
    <p>Skor Akhir: <span id=\"finalScore\">0</span></p>
    <p>Jawaban Benar: <span id=\"finalCorrect\">0</span></p>
    <div class=\"overlay-buttons\">
      <button id=\"ulangiBtn\" type=\"button\" class=\"big-btn\">Ulangi</button>
      <button id=\"menuBtn\" type=\"button\" class=\"big-btn\">Menu</button>
    </div>
  </div>
</div>

<!-- Audio Elements -->
<audio id=\"audio_opening\" src=\"openinggame.wav\" preload=\"auto\"></audio>
<audio id=\"audio_bgm\" src=\"latarmusic.mp3\" preload=\"auto\" loop></audio>
<audio id=\"audio_countdown\" src=\"mulaigame.wav\" preload=\"auto\"></audio>
<audio id=\"audio_pop\" src=\"pop.mp3\" preload=\"auto\"></audio>
<audio id=\"audio_button\" src=\"tombol.mp3\" preload=\"auto\"></audio>
<audio id=\"audio_benar\" src=\"tebakbenar.wav\" preload=\"auto\"></audio>
<audio id=\"audio_salah\" src=\"tebaksalah.wav\" preload=\"auto\"></audio>
<audio id=\"audio_gameover\" src=\"gameover.wav\" preload=\"auto\"></audio>
<audio id=\"audio_tangkaptarget\" src=\"tangkaptarget.wav\" preload=\"auto\"></audio>
<audio id=\"audio_targetbaru\" src=\"targetbaru.wav\" preload=\"auto\"></audio>

<script>
  // --- State & Data ---
  let mode = null, level = null, target = 'A';
  let score = 0, correctAnswers = 0, livesRemaining = 5, highScore = 0;
  let running = false, objects = [], particles = [];
  let animationFrameId;
  const animals = ['üê∂','üêØ','üêª','ü¶Å','üêµ','üêº','üê∞','üê∏','üê∑','üêÆ'];
  const hijaiyah = ['ÿß','ÿ®','ÿ™','ÿ´','ÿ¨','ÿ≠','ÿÆ','ÿØ','ÿ∞','ÿ±','ÿ≤','ÿ≥','ÿ¥','ÿµ','ÿ∂','ÿ∑','ÿ∏','ÿπ','ÿ∫','ŸÅ','ŸÇ','ŸÉ','ŸÑ','ŸÖ','ŸÜ','Ÿá','Ÿà','Ÿä'];
  const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
  const numbers = '0123456789'.split('');
  const allChars = [...letters, ...numbers, ...animals, ...hijaiyah];
  const bubbleColors = ['#E74C3C', '#3498DB', '#2ECC71', '#9B59B6', '#F1C40F', '#E67E22', '#1ABC9C'];
  const levelSettings = {
    1: { speed: 0.8, spawn: 1300 }, 2: { speed: 1.0, spawn: 1150 },
    3: { speed: 1.3, spawn: 1000 }, 4: { speed: 1.6, spawn: 850 },
    5: { speed: 1.9, spawn: 750 }, 6: { speed: 2.2, spawn: 650 },
    7: { speed: 2.5, spawn: 600 }, 8: { speed: 2.8, spawn: 550 },
    9: { speed: 3.1, spawn: 500 }, 10: { speed: 3.5, spawn: 450 }
  };

  // --- DOM Elements ---
  const splashScreen = document.getElementById('splashScreen');
  const splashText = document.getElementById('splashText');
  const mainMenuScreen = document.getElementById('mainMenuScreen');
  const selectionScreen = document.getElementById('selectionScreen');
  const gameScreen = document.getElementById('gameScreen');
  const gameOverScreen = document.getElementById('gameOverScreen');
  const modeBtn = document.getElementById('modeBtn');
  const levelBtn = document.getElementById('levelBtn');
  const startBtn = document.getElementById('startBtn');
  const backToMainBtn = document.getElementById('backToMainBtn');
  const backToMenuBtn = document.getElementById('backToMenu');
  const ulangiBtn = document.getElementById('ulangiBtn');
  const menuBtn = document.getElementById('menuBtn');
  const dimOverlay = document.getElementById('dimOverlay');
  const targetEl = document.getElementById('target');
  const scoreEl = document.getElementById('score');
  const livesContainer = document.getElementById('livesContainer');
  const highScoreEl = document.getElementById('highScoreDisplay');
  const finalScoreEl = document.getElementById('finalScore');
  const finalCorrectEl = document.getElementById('finalCorrect');
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');
  const popCanvas = document.getElementById('popCanvas');
  const pctx = popCanvas.getContext('2d');
  const modeSelectionDisplay = document.getElementById('modeSelectionDisplay');
  const levelSelectionDisplay = document.getElementById('levelSelectionDisplay');
  const selectionTitle = document.getElementById('selectionTitle');
  const selectionOptions = document.getElementById('selectionOptions');
  const musicToggle = document.getElementById('musicToggle');

  // --- Audio Manager ---
  const audioManager = {
    audioContext: null, sounds: {}, isUnlocked: false, musicOn: true,
    init() {
      if(this.isUnlocked) return;
      this.isUnlocked = true;
      try { this.audioContext = new (window.AudioContext || window.webkitAudioContext)(); } catch (e) {}
      const soundNames = ['opening', 'bgm', 'countdown', 'pop', 'button', 'benar', 'salah', 'gameover', 'tangkaptarget', 'targetbaru'];
      soundNames.forEach(name => { this.sounds[name] = document.getElementById(`audio_${name}`); });
    },
    stopAll() { if (!this.isUnlocked) return; Object.values(this.sounds).forEach(s => { if (s) { s.pause(); s.currentTime = 0; } }); },
    play(soundName, loop = false) {
      if (!this.isUnlocked) return Promise.resolve();
      if (soundName === 'bgm' && !this.musicOn) return Promise.resolve();
      return new Promise((resolve) => {
        const sound = this.sounds[soundName];
        if (sound) {
          sound.currentTime = 0; sound.loop = loop;
          sound.play().then(resolve).catch(resolve);
        } else { resolve(); }
      });
    },
    playMusic(musicName) {
      this.stopAll();
      if (this.musicOn) return this.play(musicName, true); else return Promise.resolve();
    },
    playSFX(sfxName) {
      if (sfxName === 'bgm' && !this.musicOn) return;
      this.play(sfxName, false);
    },
    toggleMusic() {
      this.musicOn = !this.musicOn;
      if (this.musicOn) {
        musicToggle.classList.add(\"active\");
        this.playMusic('bgm');
      } else {
        musicToggle.classList.remove(\"active\");
        if (this.sounds.bgm) { this.sounds.bgm.pause(); this.sounds.bgm.currentTime = 0; }
      }
    }
  };

  // --- Canvas & Game Logic ---
  let W, H, dpr;
  function resizeCanvas() {
    const gameArea = document.getElementById('gameArea');
    if (!gameArea) return;
    W = gameArea.clientWidth; H = gameArea.clientHeight;
    dpr = window.devicePixelRatio || 1;
    [canvas, popCanvas].forEach(c => { c.width = W * dpr; c.height = H * dpr; });
    [ctx, pctx].forEach(c => c.setTransform(dpr, 0, 0, dpr, 0, 0));
  }
  function pickNewTarget() {
    let sourceArray;
    if (mode === 'letters') sourceArray = letters;
    else if (mode === 'numbers') sourceArray = numbers;
    else if (mode === 'animals') sourceArray = animals;
    else if (mode === 'hijaiyah') sourceArray = hijaiyah;
    else sourceArray = allChars;
    target = sourceArray[Math.floor(Math.random() * sourceArray.length)];
    targetEl.textContent = target;
    targetEl.style.backgroundColor = bubbleColors[Math.floor(Math.random() * bubbleColors.length)];
    audioManager.playSFX('targetbaru');
  }
  function spawnObject() {
    const size = Math.random() * 20 + 30;
    let text;
    if (Math.random() < 0.3) { text = target; }
    else {
      let sourceArray;
      if (mode === 'letters') sourceArray = letters;
      else if (mode === 'numbers') sourceArray = numbers;
      else if (mode === 'animals') sourceArray = animals;
      else if (mode === 'hijaiyah') sourceArray = hijaiyah;
      else sourceArray = allChars;
      text = sourceArray[Math.floor(Math.random() * sourceArray.length)];
    }
    const color = bubbleColors[Math.floor(Math.random() * bubbleColors.length)];
    objects.push({ x: Math.random()*(W-size*2)+size, y: -size, r: size, text, speed: Math.random()*0.5 + levelSettings[level].speed, color: color });
  }
  function createPopEffect(x, y) {
    for (let i = 0; i < 15; i++) {
      particles.push({ x: x, y: y, vx: (Math.random() - 0.5) * 5, vy: (Math.random() - 0.5) * 5, radius: Math.random() * 3 + 1, life: 30, color: bubbleColors[Math.floor(Math.random() * bubbleColors.length)] });
    }
  }

  // --- Game Loop ---
  let lastSpawnTime = 0;
  function gameLoop(timestamp) {
    if (!running) return;
    animationFrameId = requestAnimationFrame(gameLoop);
    ctx.clearRect(0, 0, W, H); pctx.clearRect(0, 0, W, H);
    if (timestamp - lastSpawnTime > levelSettings[level].spawn) { spawnObject(); lastSpawnTime = timestamp; }
    objects.forEach((o, index) => {
      o.y += o.speed;
      if (o.y > H + o.r) { objects.splice(index, 1); return; }
      ctx.beginPath();
      ctx.arc(o.x, o.y, o.r, 0, Math.PI * 2);
      ctx.fillStyle = o.color; ctx.fill();
      ctx.strokeStyle = 'white'; ctx.lineWidth = 4; ctx.stroke();
      ctx.fillStyle = 'white'; ctx.font = `${o.r * 0.8}px 'Luckiest Guy', Arial, sans-serif`;
      ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
      ctx.shadowColor = 'rgba(0,0,0,0.5)'; ctx.shadowBlur = 3;
      ctx.fillText(o.text, o.x, o.y);
      ctx.shadowColor = 'transparent'; ctx.shadowBlur = 0;
    });
    particles.forEach((p, index) => {
      p.x += p.vx; p.y += p.vy; p.life--;
      if (p.life <= 0) particles.splice(index, 1);
      pctx.beginPath(); pctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
      pctx.fillStyle = p.color; pctx.globalAlpha = p.life / 30; pctx.fill(); pctx.globalAlpha = 1.0;
    });
  }

  // --- Game Flow ---
  const sleep = ms => new Promise(res => setTimeout(res, ms));
  function updateLivesDisplay() {
    livesContainer.innerHTML = '‚ù§Ô∏è'.repeat(livesRemaining);
  }
  async function prepareAndStartGame() {
    dimOverlay.style.display = 'flex';
    await sleep(100);
    dimOverlay.style.opacity = '1';
    await audioManager.play('countdown');
    await audioManager.play('tangkaptarget');
    dimOverlay.style.opacity = '0';
    await sleep(500);
    dimOverlay.style.display = 'none';
    running = true;
    pickNewTarget();
    lastSpawnTime = performance.now();
    animationFrameId = requestAnimationFrame(gameLoop);
    audioManager.playMusic('bgm');
  }
  function startGameFlow() {
    audioManager.stopAll();
    mainMenuScreen.classList.remove('active');
    gameScreen.classList.add('active');
    requestAnimationFrame(() => {
      resizeCanvas();
      score = 0; correctAnswers = 0; livesRemaining = 5; objects = []; particles = [];
      scoreEl.textContent = score;
      updateLivesDisplay();
      prepareAndStartGame();
    });
  }
  function triggerGameOver() {
    running = false;
    cancelAnimationFrame(animationFrameId);
    audioManager.stopAll();
    audioManager.play('gameover');
    if (score > highScore) {
      highScore = score;
      localStorage.setItem('gameKidsHighScore', highScore);
      highScoreEl.textContent = `Skor Tertinggi: ${highScore}`;
    }
    finalScoreEl.textContent = score;
    finalCorrectEl.textContent = correctAnswers;
    gameScreen.classList.remove('active');
    gameOverScreen.style.display = 'flex';
    setTimeout(() => gameOverScreen.style.opacity = '1', 100);
  }

  // --- Event Listeners ---
  function handleInteraction(e) {
    if (!running) return;
    const rect = canvas.getBoundingClientRect();
    const x = (e.clientX || (e.touches && e.touches[0].clientX) || 0) - rect.left;
    const y = (e.clientY || (e.touches && e.touches[0].clientY) || 0) - rect.top;
    for (let i = objects.length - 1; i >= 0; i--) {
      const o = objects[i];
      const dist = Math.sqrt((x - o.x) ** 2 + (y - o.y) ** 2);
      if (dist < o.r) {
        audioManager.playSFX('pop');
        createPopEffect(o.x, o.y);
        if (o.text === target) {
          score += 25;
          correctAnswers++;
          audioManager.playSFX('benar');
          pickNewTarget();
        } else {
          score -= 15;
          if (score < 0) score = 0;
          livesRemaining--;
          updateLivesDisplay();
          audioManager.playSFX('salah');
          if (livesRemaining <= 0) { triggerGameOver(); return; }
        }
        objects.splice(i, 1);
        break;
      }
    }
    scoreEl.textContent = score;
  }

  // --- Initialization ---
  document.addEventListener('DOMContentLoaded', () => {
    let splashDone = false;
    function showMainMenu() {
      if (splashDone) return;
      splashDone = true;
      splashScreen.style.opacity = '0';
      setTimeout(() => {
        splashScreen.style.display = 'none';
        mainMenuScreen.classList.add('active');
      }, 700);
      audioManager.init();
      audioManager.play('opening');
      checkAndEnableStartButton();
    }

    setTimeout(showMainMenu, 2000);
    splashScreen.addEventListener('click', showMainMenu);
    splashScreen.addEventListener('touchstart', showMainMenu);

    highScore = parseInt(localStorage.getItem('gameKidsHighScore') || '0', 10);
    highScoreEl.textContent = `Skor Tertinggi: ${highScore}`;

    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    function checkAndEnableStartButton() {
      startBtn.disabled = !(mode && level);
    }

    function showSelectionScreen(type) {
      mainMenuScreen.classList.remove('active');
      selectionScreen.classList.add('active');
      selectionTitle.textContent = `Pilih ${type}`;
      selectionOptions.innerHTML = '';
      let options;
      if (type === 'Mode') {
        options = [
          { text: 'Huruf', value: 'letters' },
          { text: 'Angka', value: 'numbers' },
          { text: 'Hewan', value: 'animals' },
          { text: 'Hijaiyah', value: 'hijaiyah' },
          { text: 'Mix', value: 'mix' }
        ];
      } else {
        options = Array.from({ length: 10 }, (_, i) => ({ text: i + 1, value: i + 1 }));
      }
      options.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.type = 'button';
        btn.textContent = opt.text;
        btn.onclick = () => {
          audioManager.playSFX('button');
          if (type === 'Mode') {
            mode = opt.value;
            modeSelectionDisplay.textContent = opt.text;
            modeSelectionDisplay.classList.add('visible');
            modeBtn.classList.remove('needs-selection');
          } else {
            level = opt.value;
            levelSelectionDisplay.textContent = `Level ${opt.text}`;
            levelSelectionDisplay.classList.add('visible');
            levelBtn.classList.remove('needs-selection');
          }
          selectionScreen.classList.remove('active');
          mainMenuScreen.classList.add('active');
          checkAndEnableStartButton();
        };
        selectionOptions.appendChild(btn);
      });
    }

    modeBtn.addEventListener('click', () => { audioManager.playSFX('button'); showSelectionScreen('Mode'); });
    levelBtn.addEventListener('click', () => { audioManager.playSFX('button'); showSelectionScreen('Level'); });
    backToMainBtn.addEventListener('click', () => { selectionScreen.classList.remove('active'); mainMenuScreen.classList.add('active'); });
    startBtn.addEventListener('click', () => { if (!startBtn.disabled) { audioManager.playSFX('button'); startGameFlow(); } });

    function goToMenu() {
      audioManager.stopAll();
      gameOverScreen.style.opacity = '0';
      setTimeout(() => {
        gameOverScreen.style.display = 'none';
        gameScreen.classList.remove('active');
        mainMenuScreen.classList.add('active');
        audioManager.play('opening');
        checkAndEnableStartButton();
      }, 500);
    }

    backToMenuBtn.addEventListener('click', () => {
      running = false;
      cancelAnimationFrame(animationFrameId);
      if (score > highScore) {
        highScore = score;
        localStorage.setItem('gameKidsHighScore', highScore);
        highScoreEl.textContent = `Skor Tertinggi: ${highScore}`;
      }
      goToMenu();
    });
    ulangiBtn.addEventListener('click', () => {
      audioManager.stopAll();
      gameOverScreen.style.opacity = '0';
      setTimeout(() => { gameOverScreen.style.display = 'none'; startGameFlow(); }, 500);
    });
    menuBtn.addEventListener('click', goToMenu);

    musicToggle.addEventListener('click', function() {
      audioManager.toggleMusic();
      if (audioManager.musicOn) { musicToggle.classList.add(\"active\"); }
      else { musicToggle.classList.remove(\"active\"); }
    });

    canvas.addEventListener('mousedown', handleInteraction);
    canvas.addEventListener('touchstart', handleInteraction);
  });
</script>

<div class=\"copyright-footer\">
  <p>Copyright ¬© 2025 Imam M.A. All Rights Reserved.</p>
</div>
</body>
</html>
"
